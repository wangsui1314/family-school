<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.bjwk.dao.CourseLibraryDao">


	<select id="queryVideoCourse" resultType="com.bjwk.model.CourseVideoBankVO">

		select  id courseVideoBankId,coverMapImage,title,lecturer,contentValidity,starLevel,videoTime,isCharge,yuan,category,updateTime from course_video_bank

		<where>
			<if test="array.length != 0 ">
				category in
				<foreach collection="array" index="index" item="categoryId" open="(" close=")" separator=",">
					#{categoryId}
				</foreach>
				and
			</if>
			 isCharge = #{isCharge}
		</where>

	</select>

	<select id="queryVideoCollection" resultType="com.bjwk.model.pojo.UserCollection">
		select * from user_collection
		where userId = #{userId} and type = 0
	</select>

	<!--收藏操作 start-->
    <select id="queryIsCollection" resultType="java.lang.Integer">
		select id from user_collection
		where
		userId=#{userId} and type = #{type} and thingId = #{thingId}
	</select>


	<insert id="insertCollection" >
		insert into user_collection(userId,thingId,type)
		values (#{userId},#{thingId},#{type})
	</insert>

    <delete id="deleteCollection">
		delete from user_collection
		where id =#{count}
	</delete>
</mapper>